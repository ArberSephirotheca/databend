---
title: 'Databend in 2022'
date: 2022-12-31
slug: 2022-12-31-databend-in-2022
tags: [databend, weekly]
authors:
- name: PsiACE
  url: https://github.com/psiace
  image_url: https://github.com/psiace.png
---

In the blink of an eye, it's almost the end of 2022 and Databend is about to embark on its third year. Today, let's review the achievements of Databend in 2022.

### Open Source

[Databend](https://github.com/datafuselabs/databend) is a powerful cloud data warehouse. Built for elasticity and efficiency. Free and open. Also available in the cloud: <https://app.databend.com> .

![databend](https://user-images.githubusercontent.com/172204/193307982-a286c574-80ef-41de-b52f-1b064ae7fccd.png)

As a cloud data warehouse product that has been open source from day one, Databend's R&D collaboration almost entirely relies on GitHub and has received wide attention from the Rust community and data industry practitioners. In the past year:

- Added 2000 stars, with a total of nearly **5000** stars.
- Added about 2400 PRs, with a total of **5600** PRs.
- Resolved over 1900 issues, with a total of over **3000** resolved issues.
- The number of contributors has almost doubled, with a total of **138** contributors.
- A total of approximately 16,000 commits have been made, with a total of over **23,000** commits.

## R&D: Based on Real-World Scenarios, Seeking Answers

In 2022, Databend was based on the real-world scenarios and needs of users, constantly refining and launching many important new features.

![databend arch](https://user-images.githubusercontent.com/172204/181448994-2b7c1623-6b20-4398-8917-45acca95ba90.png)

### New Data Warehouse, New Look

As a new cloud data warehouse targeting Snowflake and Clickhouse, Databend not only fully leverages the power of "cloud native" to bring a completely new design and implementation, but also balances performance and maintainability.

- Support for Stage and Data Sharing to help users better involve data in the lifecycle.
- A brand new Planner architecture, more user-friendly SQL error prompts, and more efficient and thorough execution plan optimization techniques.
- A new design and implementation of the type system, supporting type checking and type-safe downward casting.
- A Processor scheduling execution framework that supports both Push and Pull modes.
- Experimental support for Native Format, further improving local disk performance.

### Databend as Lakehouse

In the digital age, Databend faces higher requirements and must address the storage and management of massive amounts of data, supporting both larger data loads and more diverse data sources. We have done the following work to better realize the vision of "Databend as Lakehouse".

- Use self-developed OpenDAL to unify the data access layer.
- More comprehensive support for structured and semi-structured data.
- Multiple Catalog for easier connection with custom catalogs such as Hive.
- Support for directly reading and querying data files located locally/on Stage/remotely.

### Optimal Efficiency Ratio

After a year of continuous improvement, Databend has entered a new phase of "separation of storage and computation, elastic scheduling", resulting in significantly improved efficiency ratios.

- In some scenarios, it can achieve performance comparable to Clickhouse.
- Costs are down 90% compared to Elasticsearch and over 30% compared to Clickhouse.

## Testing: A Stress-Reliever

Thorough and comprehensive testing is key to ensuring the correctness of a database management system. Databend not only focuses on optimizing performance, but also cares about the accuracy and reproducibility of results.

![databend perf](/img/blog/databend-perf.png)

### Correctness Testing

Over the past year, Databend first replaced its original Stateless tests with SQL Logic Tests and migrated a large number of mature test cases from other databases such as YDB and DuckDB to ensure comprehensive coverage of testing. Recently, we also replaced the old Python program with a Rust native test program called sqllogictest-rs, which not only ensures the maintainability of the test but also significantly shortens the running time of the CI. In addition to case-based testing, automated testing plans are also essential. 

Community members have implemented all three types of testing supported by SQLancer (TLP, QPS, and NoREC) for Databend and merged them into the main branch. These tests have identified and fixed dozens of potential bugs, further ensuring the correctness of Databend's execution.

### Performance Testing

In addition to correctness testing, performance testing is also essential. In 2022, Databend also launched <https://perf.databend.rs/> to track daily performance changes in Databend to identify potential performance issues. At the same time, we also actively follow other benchmarks such as Clickbench to ensure that Databend's performance continues to improve steadily.

## Ecosystem & Users

The ecosystem and the user are mutually reinforcing, and a thriving ecosystem can attract more users to experience and participate in the Databend community, while as user needs are further realized, the ecosystem can also make significant progress.

### Positively Expand the Ecosystem

Databend pays great attention to ecosystem issues, not only providing compatibility with the MySQL protocol and Clickhouse HTTP Handler, but also verifying, docking and integrating a variety of data services and tools on this basis, including:

- Airbyte
- DBT
- Addax (Datax)
- Vector
- Jupyter Notebook
- DBeaver

At the same time, we also implement and maintain drivers in multiple languages including Python and Go, making it easy for users to customize and develop services based on Databend.

### Collaboration with Users Leads to Success

Users are the soil on which Databend grows, not only supporting Databend's development, but also injecting more vitality into the Databend community.

With the help of **Kuaishou Technology**, Databend supports Hive Catalog, which not only connects the Hive ecosystem, but also encourages us to further consider the design and implementation of Multiple Catalogs. **DMALL** helped to verify and implement scenarios for data archiving using Databend. We would also like to thank users such as **SHAREit**, **Voyance**, **DigiFinex**, and **Weimob** for their trust and support in Databend.

Other projects in the Databend ecosystem have also been recognized and loved by users:

- OpenDAL currently manages the data access layer for **sccache**, thereby further supporting **Firefox CI**. OpenDAL also provides data access support for database and data analysis projects such as **GreptimeDB** and **deepeth/mars**.
- OpenRaft is used in the Feature Registry (database to hold feature metadata) implementation in **Azure/Feathr** and has also been used in internal projects at **SAP**, **Huobi**, and **Meituan**.
- The MySQL protocol implementation in OpenSrv has been applied in multiple database projects such as **GreptimeDB** and **CeresDB**.

### Knowledge Sharing

In 2022, the Databend community also launched the "Data Infra Research Society", which focused on exchanging information about big data data architectures and cutting-edge technologies. The topics covered included big data platforms, Data Mesh, and Modern Data Stack, and friends from **PingCAP**, **Kuaishou Technology**, **DMALL**, and **SHAREit** were invited to share their knowledge and insights. So far, a total of 9 episodes have been released on Bilibili.

## Cloud

Cloud is an important part of Databend's commercial strategy and is also an important user of the Databend open source project.

Databend Cloud is an easy-to-use, low-cost, high-performance next-generation big data analytics platform built around Databend, allowing users to focus more on data value mining. Databend Cloud has launched two available zones, the international version and the domestic version, and welcome friends who need to apply for a trial.

- <https://databend.com>
- <https://databend.cn>